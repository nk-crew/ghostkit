(()=>{var e=window,t=e.GHOSTKIT.events,o=e.Motion.animate;function i(e){o(e,{opacity:[0,1],display:"flex"},{duration:.2,display:{duration:0}})}t.on(document,"init.blocks.gkt",(function(){void 0!==window.VideoWorker&&document.querySelectorAll(".ghostkit-video:not(.ghostkit-video-ready)").forEach((function(e){var a;e.classList.add("ghostkit-video-ready"),t.trigger(e,"prepare.video.gkt");var r=e.getAttribute("data-video"),s=e.getAttribute("data-click-action"),n="true"===e.getAttribute("data-video-autoplay"),d="true"===e.getAttribute("data-video-autopause"),l="true"===e.getAttribute("data-video-loop"),c=(null===(a=e.querySelector(".ghostkit-video-fullscreen-close-icon"))||void 0===a?void 0:a.innerHTML)||"",u=e.getAttribute("data-fullscreen-video-background-color"),g=e.getAttribute("data-fullscreen-video-background-gradient"),v=e.getAttribute("data-fullscreen-background-color"),p=e.getAttribute("data-fullscreen-background-gradient"),k=e.querySelector(".ghostkit-video-poster"),f=!1,m=0,y=e.getAttribute("data-video-aspect-ratio"),b=y.split(":")[0],h=y.split(":")[1];y=y&&b&&h?b/h:16/9,parseFloat(e.getAttribute("data-video-volume"))||(m=1),n&&(m=1);var L={autoplay:0,loop:l,mute:m,volume:parseFloat(e.getAttribute("data-video-volume"))||0,showContols:1};t.trigger(e,"prepare.videoWorker.gkt",{options:L});var A=new window.VideoWorker(r,L);if(t.trigger(e,"prepared.videoWorker.gkt",{api:A}),A&&A.isValid()){var w=0,I=0,E=!1;t.on(e,"click",(function(){I||(I=1,"fullscreen"===s?w?f&&(e.classList.remove("ghostkit-video-fullscreen-closed"),i(f),A.play()):(e.classList.add("ghostkit-video-loading"),A.getIframe((function(a){var r=a.parentNode,s=document.createElement("div");s.classList.add("ghostkit-video-fullscreen-frame"),s.append(a);var n=document.createElement("div");n.classList.add("ghostkit-video-fullscreen-close"),n.innerHTML=c,(f=document.createElement("div")).classList.add("ghostkit-video-fullscreen"),f.style.backgroundColor=v,f.style.backgroundImage=p,f.style.setProperty("--gkt-fullscreen-video--video__background",u||g),f.style.setProperty("--gkt-fullscreen-video__aspect-ratio-width",b),f.style.setProperty("--gkt-fullscreen-video__aspect-ratio-height",h),f.append(n),f.append(s),document.body.append(f),r.remove(),i(f),t.on(f,"click",(function(t){var i=t.target;(i.classList.contains("ghostkit-video-fullscreen")||i.classList.contains("ghostkit-video-fullscreen-close")||i.closest(".ghostkit-video-fullscreen-close"))&&(A.pause(),e.classList.add("ghostkit-video-fullscreen-closed"),o(f,{opacity:[1,0],display:"none"},{duration:.2}))}))})),w=1):w?A.play():(e.classList.add("ghostkit-video-loading"),A.getIframe((function(t){var o=t.parentNode,i=document.createElement("div");i.classList.add("ghostkit-video-frame"),i.append(t),e.append(i),o.remove()})),w=1))})),k||e.classList.contains("is-style-icon-only")||A.getImageURL((function(t){var o=document.createElement("img");o.setAttribute("src",t),o.setAttribute("alt",""),(k=document.createElement("div")).classList.add("ghostkit-video-poster"),k.append(o),e.append(k)}));var _=!1;if(A.on("ready",(function(){e.classList.remove("ghostkit-video-loading"),"fullscreen"===s?e.classList.contains("ghostkit-video-fullscreen-closed")||A.play():(e.classList.add("ghostkit-video-playing"),A.play())})),A.on("play",(function(){E=!0})),A.on("pause",(function(){E=!1,_=!0,"fullscreen"===s&&(I=0)})),"fullscreen"!==s&&(n||d)){if(!("IntersectionObserver"in window))return;var O={callback:function(t){t.forEach((function(t){e===t.target&&(!_&&!E&&n&&t.isIntersecting&&(I?A.play():e.click()),E&&d&&!t.isIntersecting&&A.pause())}))},options:{threshold:.6}};t.trigger(e,"prepare.videoObserver.gkt",{config:O}),new IntersectionObserver(O.callback,O.options).observe(e)}}t.trigger(e,"prepared.video.gkt")}))}))})();